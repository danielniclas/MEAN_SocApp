var app=angular.module("app",["ngRoute"]);console.log("In the MODULAR Angular files in 'ng' directory");var app=angular.module("app");app.controller("ApplicationCtrl",["$scope",function(t){t.$on("login",function(e,n){t.currentUser=n})}]);var app=angular.module("app");app.controller("LoginCtrl",["$scope","UserSvc",function(t,e){t.login=function(n,o){e.login(n,o).then(function(e){t.$emit("login",e.data)})}}]);var app=angular.module("app");app.controller("PostsCtrl",["$scope","PostsSvc",function(t,e){t.addPost=function(){t.postBody&&(post={username:"MookersService",body:t.postBody},e.create(post).success(function(e){t.posts.unshift(e),t.postBody=null}),t.postBody=null)},e.fetch().success(function(e){t.posts=e})}]);var app=angular.module("app");app.service("PostsSvc",["$http",function(t){this.fetch=function(){return t.get("api/posts")},this.create=function(e){return t.post("api/posts",e)}}]);var app=angular.module("app");app.controller("RegistrationCtrl",["$scope","UserSvc",function(t,e){t.register=function(n,o){e.createUser(n,o).then(function(e){t.$emit("login",e.data)})}}]);var app=angular.module("app");app.config(["$routeProvider",function(t){t.when("/",{controller:"PostsCtrl",templateUrl:"posts.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"register.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"}).when("/register",{controller:"RegistrationCtrl",templateUrl:"register.html"})}]);var app=angular.module("app");app.service("UserSvc",["$http",function(t){var e=this;e.getUser=function(){return t.get("/api/users")},e.login=function(n,o){return t.post("/api/sessions",{username:n,password:o}).then(function(n){return e.token=n.data,t.defaults.headers.common["x-auth"]=n.data,e.getUser()})},e.createUser=function(n,o){return t.post("/api/users",{username:n,password:o}).then(function(){return e.login(n,o)})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJsb2dpbi5jdHJsLmpzIiwicG9zdHMuY3RybC5qcyIsInBvc3RzLnN2Yy5qcyIsInJlZ2lzdHJhdGlvbi5jdHJsLmpzIiwicm91dGVzLmpzIiwidXNlci5zdmMuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnNvbGUiLCJsb2ciLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJG9uIiwiXyIsInVzZXIiLCJjdXJyZW50VXNlciIsIlVzZXJTdmMiLCJsb2dpbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJ0aGVuIiwicmVzcG9uc2UiLCIkZW1pdCIsImRhdGEiLCJQb3N0c1N2YyIsImFkZFBvc3QiLCJwb3N0Qm9keSIsInBvc3QiLCJib2R5IiwiY3JlYXRlIiwic3VjY2VzcyIsInBvc3RzIiwidW5zaGlmdCIsImZldGNoIiwic2VydmljZSIsIiRodHRwIiwidGhpcyIsImdldCIsInJlZ2lzdGVyIiwiY3JlYXRlVXNlciIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwic3ZjIiwiZ2V0VXNlciIsInZhbCIsInRva2VuIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIl0sIm1hcHBpbmdzIjoiQUFJQSxHQUFBQSxLQUFBQyxRQUFBQyxPQUFBLE9BQUEsV0FFQUMsU0FBQUMsSUFBQSxpRENGQSxJQUFBSixLQUFBQyxRQUFBQyxPQUFBLE1BQ0FGLEtBQUFLLFdBQUEsbUJBQUEsU0FBQSxTQUFBQyxHQUdBQSxFQUFBQyxJQUFBLFFBQUEsU0FBQUMsRUFBQUMsR0FDQUgsRUFBQUksWUFBQUQsTUNKQSxJQUFBVCxLQUFBQyxRQUFBQyxPQUFBLE1BRUFGLEtBQUFLLFdBQUEsYUFBQSxTQUFBLFVBQUEsU0FBQUMsRUFBQUssR0FFQUwsRUFBQU0sTUFBQSxTQUFBQyxFQUFBQyxHQUVBSCxFQUFBQyxNQUFBQyxFQUFBQyxHQUVBQyxLQUFBLFNBQUFDLEdBRUFWLEVBQUFXLE1BQUEsUUFBQUQsRUFBQUUsV0NYQSxJQUFBbEIsS0FBQUMsUUFBQUMsT0FBQSxNQUVBRixLQUFBSyxXQUFBLGFBQUEsU0FBQSxXQUFBLFNBQUFDLEVBQUFhLEdBRUFiLEVBQUFjLFFBQUEsV0FFQWQsRUFBQWUsV0FFQUMsTUFDQVQsU0FBQSxpQkFDQVUsS0FBQWpCLEVBQUFlLFVBR0FGLEVBQUFLLE9BQUFGLE1BV0FHLFFBQUEsU0FBQUgsR0FFQWhCLEVBQUFvQixNQUFBQyxRQUFBTCxHQUlBaEIsRUFBQWUsU0FBQSxPQUdBZixFQUFBZSxTQUFBLE9BT0FGLEVBQUFTLFFBR0FILFFBQUEsU0FBQUMsR0FDQXBCLEVBQUFvQixNQUFBQSxNQzNDQSxJQUFBMUIsS0FBQUMsUUFBQUMsT0FBQSxNQUtBRixLQUFBNkIsUUFBQSxZQUFBLFFBQUEsU0FBQUMsR0FFQUMsS0FBQUgsTUFBQSxXQUNBLE1BQUFFLEdBQUFFLElBQUEsY0FFQUQsS0FBQVAsT0FBQSxTQUFBRixHQUNBLE1BQUFRLEdBQUFSLEtBQUEsWUFBQUEsTUNWQSxJQUFBdEIsS0FBQUMsUUFBQUMsT0FBQSxNQUVBRixLQUFBSyxXQUFBLG9CQUFBLFNBQUEsVUFBQSxTQUFBQyxFQUFBSyxHQUVBTCxFQUFBMkIsU0FBQSxTQUFBcEIsRUFBQUMsR0FFQUgsRUFBQXVCLFdBQUFyQixFQUFBQyxHQUVBQyxLQUFBLFNBQUFDLEdBRUFWLEVBQUFXLE1BQUEsUUFBQUQsRUFBQUUsV0NYQSxJQUFBbEIsS0FBQUMsUUFBQUMsT0FBQSxNQUVBRixLQUFBbUMsUUFBQSxpQkFBQSxTQUFBQyxHQUdBQSxFQUNBQyxLQUFBLEtBQ0FoQyxXQUFBLFlBQ0FpQyxZQUFBLGVBRUFELEtBQUEsYUFDQWhDLFdBQUEsZUFDQWlDLFlBQUEsa0JBRUFELEtBQUEsVUFDQWhDLFdBQUEsWUFDQWlDLFlBQUEsZUFFQUQsS0FBQSxhQUNBaEMsV0FBQSxtQkFDQWlDLFlBQUEsb0JDcEJBLElBQUF0QyxLQUFBQyxRQUFBQyxPQUFBLE1BRUFGLEtBQUE2QixRQUFBLFdBQUEsUUFBQSxTQUFBQyxHQUVBLEdBQUFTLEdBQUFSLElBS0FRLEdBQUFDLFFBQUEsV0FFQSxNQUFBVixHQUFBRSxJQUFBLGVBSUFPLEVBQUEzQixNQUFBLFNBQUFDLEVBQUFDLEdBRUEsTUFBQWdCLEdBQUFSLEtBQUEsaUJBQUFULFNBQUFBLEVBQUFDLFNBQUFBLElBS0FDLEtBQUEsU0FBQTBCLEdBTUEsTUFMQUYsR0FBQUcsTUFBQUQsRUFBQXZCLEtBRUFZLEVBQUFhLFNBQUFDLFFBQUFDLE9BQUEsVUFBQUosRUFBQXZCLEtBR0FxQixFQUFBQyxhQUtBRCxFQUFBTCxXQUFBLFNBQUFyQixFQUFBQyxHQUVBLE1BQUFnQixHQUFBUixLQUFBLGNBQUFULFNBQUFBLEVBQUFDLFNBQUFBLElBRUFDLEtBQUEsV0FFQSxNQUFBd0IsR0FBQTNCLE1BQUFDLEVBQUFDIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBkYW5pZWxuaWNsYXMgb24gMS80LzE2LlxuICovXG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyduZ1JvdXRlJ10pOyAgICAgICAgICAgIC8vICA8PCAgU0VUVEVSIE1PRFVMRSAtLSAgQ2FsbGVkIE9OTFkgT05DRSBhbmQgRklSU1RcblxuY29uc29sZS5sb2coXCJJbiB0aGUgTU9EVUxBUiBBbmd1bGFyIGZpbGVzIGluICduZycgZGlyZWN0b3J5XCIpOyIsIi8qKlxuICogQ3JlYXRlZCBieSBkYW5pZWxuaWNsYXMgb24gNC8xMC8xNi5cbiAqL1xuXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xuYXBwLmNvbnRyb2xsZXIoJ0FwcGxpY2F0aW9uQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSl7XG5cblxuICAgICRzY29wZS4kb24oJ2xvZ2luJywgZnVuY3Rpb24oXywgdXNlcil7ICAgICAgICAgICAgICAvLyAgJHNjb3BlLm9uICgxLiAgbmFtZSBvZiBFbWl0dGVyLCBDQiBmdW5jdGlvbilcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRVc2VyID0gdXNlcjsgICAgICAgICAgICAgICAgICAgICAgLy8gIFRoaXMgaXMgd2hlcmUgdGhlIFVTRVIgSlNPTiBlbmRzIHVwISEhXG4gICAgfSlcbn0pOyIsIi8qKlxuICogQ3JlYXRlZCBieSBkYW5pZWxuaWNsYXMgb24gNC84LzE2LlxuICovXG5cblxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcblxuYXBwLmNvbnRyb2xsZXIoJ0xvZ2luQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSxVc2VyU3ZjKXsgICAgICAgLy8gIENISUxEIENPTlRST0xMRVIgdG8gQXBwbGNhdGlvbkN0cmxcblxuICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpeyAgIC8vICBGdW5jdGlvbiBleHBvc2VkIHRvIExvZ2luIEZvcm1cblxuICAgICAgICBVc2VyU3ZjLmxvZ2luKHVzZXJuYW1lLHBhc3N3b3JkKSAgICAgICAgICAgLy8gIGxvZ2luLmN0cmwuanMgID4+ICBVc2VyU3ZjLmxvZ2luKCkgID4+Pj4gcmV0dXJucyBVU0VSIEpTT04gPDw8PDxcblxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdsb2dpbicsIHJlc3BvbnNlLmRhdGEpOyAgICAvLyAgZW1pdCgpIG9yIGJ1YmJsZSB1cCB0aGUgVVNFUiBKU09OID4+IGFwcGxpY2F0aW9uLmN0cmxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBQYXNzIHRoaXMgZXZlbnQgZnJvbSBDSElMRCBDT05UUk9MTEVSIChsb2dpbi5jdHJsKSB1cCB0byBQQVJFTlQgQ09OVFJPTExFUiAoYXBwbGljYXRpb24uY3RybCkgdXNpbmcgJGVtaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAkZW1pdCBpcyBhbiBBTkdVTEFSIEVWRU5UXG5cbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHVzZXIpOyAgICAgICAgICAgICAgICAgICAvLyAgRElTUExBWSBVU0VSICA8PCAgVGhpcyBmdW5jdGlvbiBkaXNwbGF5cyBkYXRhLiAgRG9lcyBub3QgUkVUVVJOIGFuIGV2YWx1YXRlZCBleHByZXNzaW9uXG4gICAgICAgICAgICB9KVxuICAgIH1cbn0pOyIsIi8qKlxuICogQ3JlYXRlZCBieSBkYW5pZWxuaWNsYXMgb24gMS80LzE2LlxuICovXG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7ICAgICAgICAgIC8vICBHRVRURVIgTU9EVUxFXG5cbmFwcC5jb250cm9sbGVyKCdQb3N0c0N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCBQb3N0c1N2Yykge1xuXG4gICAgJHNjb3BlLmFkZFBvc3QgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgIGlmKCRzY29wZS5wb3N0Qm9keSl7ICAgICAgICAgICAgICAgIC8vcG9zdEJvZHkgaXMgdGhlIHZhbHVlIG9mIHRoZSBpbnB1dCBmaWVsZFxuXG4gICAgICAgICAgICBwb3N0ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAgJ01vb2tlcnNTZXJ2aWNlJyxcbiAgICAgICAgICAgICAgICBib2R5OiAkc2NvcGUucG9zdEJvZHlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFBvc3RzU3ZjLmNyZWF0ZShwb3N0KVxuXG5cbiAgICAgICAgICAgICAgICAvLyRodHRwLnBvc3QoJy9hcGkvcG9zdHMnLCB7ICAgICAgLy8gICRodHRwIHJlcXVlc3QgdG8gRU5EUE9JTlQgIC0tICBUbyBOb2RlIEFQSVxuICAgICAgICAgICAgICAgIC8vICAgIC8vICBwb3N0KDEsMikgICAxLiAgL2FwaS9wb3N0LyBlbmRwb2ludCBOb2RlIEFQSSwgMi4gIE9CSkVDVCB0byBwb3N0XG4gICAgICAgICAgICAgICAgLy8gICAgLy8gIENSRUFURSBPQkpFQ1Q6XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgICB1c2VybmFtZTogICdNb29rZXJzJyxcbiAgICAgICAgICAgICAgICAvLyAgICBib2R5OiAkc2NvcGUucG9zdEJvZHlcbiAgICAgICAgICAgICAgICAvL30pXG5cbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihwb3N0KSB7ICAgICAgICAgICAgICAgICAgICAvLyAgJGh0dHAgUkVUVVJOUyBBIFBST01JU0UgT0JKRUNUICEhISFcblxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucG9zdHMudW5zaGlmdChwb3N0KTsgICAgIC8vICBpZiBjcmVhdGluZyBuZXcgT0JKRUNUIGlzIHN1Y2Nlc3MgLT4gQWRkIG9iamVjdCB0byBbcG9zdHNdIEFSUkFZXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIGFycmF5LnVuc2hpZnQoKSAtLSAgYWRkIG5ldyBpdGVtcyB0byB0aGUgYmVnaW5uaW5nIG9mIGFuIGFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIEFuZ3VsYXIgaXMgbWFuYWdpbmcgdGhlIEFSUkFZICEhISAgYXMgcGFydCBvZiAkc2NvcGVcblxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucG9zdEJvZHkgPSBudWxsOyAgICAgICAgICAvLyAgc2V0IHBvc3RCb2R5IHZhbHVlIHRvIE5VTExcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNjb3BlLnBvc3RCb2R5ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cblxuICAgIC8vICRodHRwLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wb3N0cycpICAgICAgICAvLyAgR2V0IFtwb3N0c10gQVJSQVkgICh0aGlzIGNvZGUgcmVwbGFjZXMgdGhlIFtwb3N0XSBBUlJBWSBiZWxvd1xuXG4gICAgUG9zdHNTdmMuZmV0Y2goKVxuXG5cbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKHBvc3RzKSB7ICAgICAgICAgICAgICAgICAgICAgLy8gICRodHRwIHJldHVybnMgYSBQUk9NSVNFIE9CSkVDVFxuICAgICAgICAgICAgJHNjb3BlLnBvc3RzID0gcG9zdHNcbiAgICAgICAgfSk7XG5cbn0pO1xuIiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGRhbmllbG5pY2xhcyBvbiAxLzQvMTYuXG4gKi9cblxuXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpOyAgICAgIC8vICBHRVRURVIgTU9EVUxFXG5cblxuLy8gIFNlcnZpY2U6XG5cbmFwcC5zZXJ2aWNlKCdQb3N0c1N2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xuXG4gICAgdGhpcy5mZXRjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldCgnYXBpL3Bvc3RzJyk7ICAgICAgICAgICAgICAgICAvLyAgJGh0dHAuZ2V0KCkgU0VSVklDRSAgLS0gcmV0dXJucyBhIFBST01JU0VcbiAgICB9O1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24gKHBvc3QpIHsgICAgICAgICAgICAgICAgICAgICAvLyAgJGh0dHAucG9zdCgpIFNFUlZJQ0UgLS0gIHJldHVybnMgYSBQUk9NSVNFXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCdhcGkvcG9zdHMnLCBwb3N0KVxuICAgIH1cbn0pOyIsIi8qKlxuICogQ3JlYXRlZCBieSBkYW5pZWxuaWNsYXMgb24gNC8xMC8xNi5cbiAqL1xuXG5cblxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcblxuYXBwLmNvbnRyb2xsZXIoJ1JlZ2lzdHJhdGlvbkN0cmwnLCBmdW5jdGlvbigkc2NvcGUsVXNlclN2Yyl7ICAgICAgIC8vICBDSElMRCBDT05UUk9MTEVSIHRvIEFwcGxjYXRpb25DdHJsXG5cbiAgICAkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKXsgICAgICAgIC8vICBmdW5jdGlvbiBleHBvc2VkIHRvIFJlZ2lzdGVyIEZvcm1cblxuICAgICAgICBVc2VyU3ZjLmNyZWF0ZVVzZXIodXNlcm5hbWUscGFzc3dvcmQpICAgICAgICAgICAvLyAgbG9naW4uY3RybC5qcyAgPj4gIFVzZXJTdmMubG9naW4oKSAgPj4+PiByZXR1cm5zIFVTRVIgSlNPTiA8PDw8PFxuXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ2xvZ2luJywgcmVzcG9uc2UuZGF0YSk7ICAgIC8vICBlbWl0KCkgb3IgYnViYmxlIHVwIHRoZSBVU0VSIEpTT04gPj4gYXBwbGljYXRpb24uY3RybFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIFBhc3MgdGhpcyBldmVudCBmcm9tIENISUxEIENPTlRST0xMRVIgKGxvZ2luLmN0cmwpIHVwIHRvIFBBUkVOVCBDT05UUk9MTEVSIChhcHBsaWNhdGlvbi5jdHJsKSB1c2luZyAkZW1pdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICRlbWl0IGlzIGFuIEFOR1VMQVIgRVZFTlRcblxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codXNlcik7ICAgICAgICAgICAgICAgICAgIC8vICBESVNQTEFZIFVTRVIgIDw8ICBUaGlzIGZ1bmN0aW9uIGRpc3BsYXlzIGRhdGEuICBEb2VzIG5vdCBSRVRVUk4gYW4gZXZhbHVhdGVkIGV4cHJlc3Npb25cbiAgICAgICAgICAgIH0pXG4gICAgfVxufSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGRhbmllbG5pY2xhcyBvbiA0LzgvMTYuXG4gKi9cblxuXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xuXG5hcHAuY29uZmlnKGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKXtcblxuXG4gICAgJHJvdXRlUHJvdmlkZXJcbiAgICAgICAgLndoZW4oJy8nLCB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAnUG9zdHNDdHJsJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncG9zdHMuaHRtbCdcbiAgICAgICAgfSlcbiAgICAgICAgLndoZW4oJy9yZWdpc3RlcicsIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdSZWdpc3RlckN0cmwnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZWdpc3Rlci5odG1sJ1xuICAgICAgICB9KVxuICAgICAgICAud2hlbignL2xvZ2luJywge1xuICAgICAgICAgICAgY29udHJvbGxlcjogJ0xvZ2luQ3RybCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2xvZ2luLmh0bWwnXG4gICAgICAgIH0pXG4gICAgICAgIC53aGVuKCcvcmVnaXN0ZXInLCB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAnUmVnaXN0cmF0aW9uQ3RybCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlZ2lzdGVyLmh0bWwnXG4gICAgICAgIH0pXG59KTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgZGFuaWVsbmljbGFzIG9uIDQvOC8xNi5cbiAqL1xuXG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XG5cbmFwcC5zZXJ2aWNlKCdVc2VyU3ZjJyxmdW5jdGlvbigkaHR0cCl7XG5cbiAgICB2YXIgc3ZjID0gdGhpcztcblxuXG5cblxuICAgIHN2Yy5nZXRVc2VyID0gZnVuY3Rpb24oKXtcblxuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzJyk7ICAgICAgICAgLy8gIFJFVFVSTiBhIEpTT04gb2YgdGhlIFVTRVIgICA+PiAgRU5EUyBVUCB3aXRoIGFwcGxpY2F0aW9uLmN0cmxcblxuICAgIH07XG5cbiAgICBzdmMubG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKXsgICAgICAgLy8gPDwgIFVzZXJTdmMubG9naW4odXNlcm5hbWUscGFzc3dvcmQpICBJTlZPS0VEIGluIENvbnRyb2xsZXIgIDw8PDwgIG5nLXN1Ym1pdCBpbiBsb2dpbi5odG1sXG5cbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2Vzc2lvbnMnLCB7dXNlcm5hbWU6IHVzZXJuYW1lLCBwYXNzd29yZDogcGFzc3dvcmR9KSAgICAgICAgIC8vICAxLiAgUkVTT0xWRSBUSElTICAoUkVUVVJOKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIDw8ICBDVVJMIC0tIFVzZXJTdmMubG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIFBPU1QgdXNlcm5hbWUgYW5kIHBhc3N3b3JkID4+ICBjb21wYXJlIHBhc3N3b3JkIHdpdGggSEFTSCBwYXNzd29yZCA+PiAgZ2VuZXJhdGUgSldUIFRPS0VOXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgPDwgIENVUkwhISAgY2hlY2s6ICBzZXJ2ZXItYXV0aC5qc1xuXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodmFsKXsgICAgICAgICAgICAgICAgICAgLy8gIHZhbCBpcyB0aGUgT0JKRUNUIHJldHVybmVkIGZyb20gJGh0dHAucG9zdCA+PiAge3ZhbH1cbiAgICAgICAgICAgICAgICAgICAgc3ZjLnRva2VuID0gdmFsLmRhdGE7ICAgICAgICAgICAvLyAgdmFsLmRhdGEgPSBKV1QgVE9LRU4gIGFzc2lnbiB0bzogICBVc2VyU3ZjLnRva2VuXG5cbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ3gtYXV0aCddID0gdmFsLmRhdGE7ICAgICAvLyAgQUxMIFJFUVVFU1RTIHdpbGwgaGF2ZSB0aGlzIGhlYWRlciBhdHRhY2hlZCAgPDwgIHVzZXIgZGF0YSBmcm9tIEpXVFxuXG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN2Yy5nZXRVc2VyKCk7ICAgICAgICAgICAvLyAgSU5WT0tFIFVzZXJTdmMuZ2V0VXNlcigpICBhbmQgPj4+Pj4+IFJFVFVSTiB0aGUgVVNFUiB7T0JKRUNUfSAgPDwgIFJFU09MVkUgVEhJU1xuICAgICAgICAgICAgICAgIH0pXG4gICAgfTtcblxuXG4gICAgc3ZjLmNyZWF0ZVVzZXIgPSBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpeyAgICAgICAgICAgICAgLy8gIFJFR0lTVFJBVElPTjogIGNyZWF0ZSB1c2VyID4+ICBsb2dpblxuXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywge3VzZXJuYW1lOiB1c2VybmFtZSwgcGFzc3dvcmQ6IHBhc3N3b3JkfSkvLyAgUmVzb2x2ZSB0aGlzIGZpcnN0OiAgRklSU1Q6ICA+PiAgQ1JFQVRFIFRIRSBVU0VSIGFuZCBTQVZFIFRPIERCIHdpdGggL2FwaS91c2Vyc1xuXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN2Yy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpOyAgICAgICAgICAgICAgIC8vICBXaGVuIGRvbmUgY3JlYXRpbmcgdXNlciA+PiAgU0VDT05EOiAgPj4gTE9HIElOICB3aGljaCB1bHRpbWF0ZWx5IHJldHVybnMgSlNPTiBvZiBVU0VSID4+ICB3aGljaCB0aGVuIGdldHMgYnViYmxlZCB1cCB3aXRoIGVtaXQoKVxuXG4gICAgICAgIH0pXG4gICAgfVxuXG59KTtcblxuLy8gIFJFVFVSTiAgPDwgIGFueXRoaW5nIGFmdGVyIFJFVFVSTiBpcyBSRVNPTFZFRCBhbmQgcmV0dXJuZWQgdG8gdGhlIElOVk9LQVRJT04gc3RhdGVtZW50XG5cblxuXG4vLyAgTG9naW4gaGFzIHR3byBzdGVwczpcbi8vICAxLiAgQ2FsbCBQT1NUIC9hcGkvc2Vzc2lvbnMgdG8gZ2V0ID4+IEpXVCBUT0tFTlxuLy8gIDIuICBHRVQgL2FwaS91c2VycyAgdG8gZ2V0IGN1cnJlbnRseSBsb2dnZWQgaW4gdXNlcnMgaW5mb3JtYXRpb25cblxuXG4vLyAgQ2hlY2sgTkVUV09SSyBUQUIgaW4gQ0hST01FICA+PiAgc2Vzc2lvbnMgPj4gIHdpbGwgc2hvdyB0aGUgdXNlcm5hbWUgYW5kIHBhc3N3b3JkIGJlaW5nIFBBU1NFRFxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
